{% extends 'base.html' %}
{% block content %}

<h2>Your Cart</h2>

{% if cart_items %}
<div class="cart-container">
    {% for item in cart_items %}
    <div class="cart-item">
        <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
        <div class="cart-info">
            <h3>{{ item.product.name }}</h3>
            <p>Price: ₹{{ item.product.price }}</p>
            <form action="{% url 'update_cart_item' item.id %}" method="post">
                {% csrf_token %}
                <input type="number" name="quantity" value="{{ item.quantity }}" min="1">
                <button type="submit">Update</button>
            </form>
            <p>Subtotal: ₹{{ item.subtotal }}</p>
            <a href="{% url 'remove_cart_item' item.id %}" class="remove-link">Remove</a>
        </div>
    </div>
    {% endfor %}
</div>

<p class="total">Total: ₹{{ total_price }}</p>
<a href="{% url 'place_order' %}" class="checkout-button">Proceed to Checkout</a>

{% else %}
<p>Your cart is empty.</p>
{% endif %}

{% endblock %}
